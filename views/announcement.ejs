<!DOCTYPE html>
  <html lang="en">
  <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Announcements - Greendale Academy</title>
      <link rel="stylesheet" href="/css/style.css">
  </head>
  <body>
      <nav>
          <div class="logo">Greendale Academy</div>
          <ul>
              <li><a href="/">Home</a></li>
              <li><a href="/search">Search Courses</a></li>
              <li><a href="/announcements">Announcements</a></li>
              <li><a href="/schedule">Class Schedule</a></li>
          </ul>
      </nav>

      <main>
          <h1>School Announcements</h1>

          <!-- Post new announcement form -->
          <section class="post-form">
              <h2>Post an Announcement</h2>
              <form action="/announcements" method="POST">
                  <div class="form-group">
                      <label for="author">Your Name:</label>
                      <input type="text" id="author" name="author" required>
                  </div>
                  <div class="form-group">
                      <label for="message">Message:</label>
                      <textarea id="message" name="message" rows="4" required></textarea>
                  </div>
                  <button type="submit" class="btn">Post Announcement</button>
              </form>
          </section>

          <!-- Display announcements -->
          <section class="announcements-list">
              <h2>Recent Announcements</h2>
              <% announcements.slice().reverse().forEach(announcement => { %>
                  <div class="announcement-card">
                      <div class="announcement-header">
                          <!-- VULNERABLE: Unescaped output -->
                          <strong><%- announcement.author %></strong>
                          <span class="date"><%= announcement.date %></span>
                      </div>
                      <!-- VULNERABLE: Unescaped output -->
                      <div class="announcement-body">
                          <%- announcement.message %>
                      </div>
                  </div>
              <% }); %>
          </section>
      </main>

      <footer>
          <p>&copy; 2024 Greendale Academy</p>
      </footer>
  </body>
  </html>